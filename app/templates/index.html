<!-- prettier-ignore -->
{% extends 'layout.html' %}

{% block content %}
<section class="mt-4">
<div class="container">
  <div class="col-md-8 offset-md-2">
    {% for post in posts %}
    <article>
     <h2 class="text-capitalize fw-bold">
        {% set post_url = url_for('blog.post_detail', slug=post.slug) %}
        <a href="{{ post_url }}" class="text-decoration-none">{{post.title}}</a>
      </h2>
      <div class="text-muted fs-5">
      {% if post.publish %}
        {{post.publish.strftime('%a %d %B %Y')}}
      {% else %}
      <div class=" badge border border-danger border-2 text-danger">draft</div>
      {% endif %}
       
      {% if post.publish and (post.publish >= date) %}
        <div class="badge border border-dark border-2 text-dark">scheduled</div>
      {% endif %}
      </div>
      <p>{{post.body|truncate|safe}}</p>
      <div class="mb-3">
        <a href="{{ post_url }}" class="btn btn-primary">Read more</a>
      </div>
      <hr>
    </article>
    {% endfor %}
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item">
          <a class="page-link" href="{{ url_for('blog.posts') }}?page={{ paginator.prev_page }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {% for page in paginator.pages %}
        <li class="page-item"><a class="page-link {% if page == paginator.page %}active{% endif %}" href="{{ url_for('blog.posts') }}?page={{ page }}">{{ page }}</a></li>
        {% endfor %}
        <li class="page-item">
          <a class="page-link" href="{{ url_for('blog.posts') }}?page={{ paginator.next_page }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
</section>
{% endblock content %}